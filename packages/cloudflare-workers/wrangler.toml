name = "botcha"
main = "src/index.ts"
compatibility_date = "2025-01-30"
compatibility_flags = ["nodejs_compat"]

# Routes for botcha.ai domain
# API routes are handled by Workers, static assets by Pages
routes = [
  { pattern = "botcha.ai/api/*", zone_name = "botcha.ai" },
  { pattern = "botcha.ai/v1/*", zone_name = "botcha.ai" },
  { pattern = "botcha.ai/agent-only", zone_name = "botcha.ai" },
  { pattern = "botcha.ai/badge/*", zone_name = "botcha.ai" }
]

# KV namespace for challenge storage
[[kv_namespaces]]
binding = "CHALLENGES"
id = "1bbfbe23060a450f996a587a36501a65"

# Rate limiting KV namespace
[[kv_namespaces]]
binding = "RATE_LIMITS"
id = "c45e9f02ad104ad98d00699db3ad258c"

[vars]
BOTCHA_VERSION = "0.2.0"
# JWT_SECRET is stored securely via: wrangler secret put JWT_SECRET
